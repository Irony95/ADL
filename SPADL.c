/////////////////////////////////////////////////////////////////////////
//                                                                     //
//	CoSpace Robot                                                      //
//	Version 2.0.0                                                      //
//	DEC 16 2022                                                        //
//	Copyright (C) 2022 CoSpace Robot. All Rights Reserved              //
//                                                                     //
//  ONLY C Code can be compiled.                                       //
//                                                                     //
/////////////////////////////////////////////////////////////////////////

#define CsBot_AI_H//DO NOT delete this line
#ifndef CSBOT_REAL
#include <windows.h>
#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#define DLL_EXPORT extern __declspec(dllexport)
#define false 0
#define true 1
#endif
int Duration = 0;
int CurAction = -1;
int CurGame = 0;
int US_Front = 0;
int US_Left = 0;
int US_Right = 0;
int PositionX = 0;
int PositionY = 0;
int RotationZ = 0;
int DeltaAngle = 0;
int DeltaDist = 0;
int NavID = 0;
int NavDist = 0;
int CtrID = 0;
int CtrDist = 0;
int StnID = 0;
int StnDist = 0;
int Time = 0;
int MyState = 0;
int WheelLeft = 0;
int WheelRight = 0;
int LED = 0;
int AI_TeamID = 1;   //Robot Team ID.    1:Blue Ream;    2:Red Team.
int AI_SensorNum = 15;
int a[100],b[100],c[100],d[100];
char pointsOfAction[100][100];

char pathing[2500][50][50];
int nextPointOfAction = 0; 
int loadedPoints = 0;

void CalculateRoute(int arr[7]);

//in units per second
const double averageSpeed = 73.5;

//structured such that an int is mapped to a point. C01 = 0, C02 = 1, C03 = 2, S01 = 3, S02 = 4, S03 = 5......
//each point has 50 paths, 1 per stn. Or more simply, index value * 50 is the start, add a the value for end stn i.e.
//pathings[0 * 50 + 1] is the array for C01 to C02
//pathings[3 * 50 + 5] is the array for S01 to S03 
const char *pathings[][50] = {
{"C01180"},{"C01270","P15214","P14180","P03135","P04090","C02180"},{"C01090","P17180","P25225","P26139","P27180","P07090","C03180"},{"C01090","P17180","S01180"},{"C01090","S02180"},{"C01090","S03180"},{"C01270","S04180"},{"C01270","P15214","P14180","S05180"},{"C01270","P15214","P14180","S06180"},{"C01270","P15214","P14180","S07180"},{"C01270","P16180","P13139","P12225","P11180","S08180"},{"C01090","P17180","P25225","P26139","P27180","S09180"},{"C01090","P19143","P20180","P29270","S10180"},{"C01090","P17180","P25225","P26270","P09180","S11180"},{"C01270","P16180","P13139","P12090","S12180"},{"C01090","P18180","S13180"},{"C01090","P19143","P20180","S14180"},{"C01090","P17180","P25131","P24090","S15180"},{"C01090","P17180"},{"C01090","P18180"},{"C01090","P19180"},{"C01270","P16180"},{"C01270","P15180"},{"C01270","P15214","P14180"},{"C01270","P15214","P14180","P01180"},{"C01270","P15214","P14180","P02180"},{"C01270","P15214","P14180","P03180"},{"C01270","P15214","P14180","P03135","P04180"},{"C01270","P16180","P13139","P12225","P11180","P05180"},{"C01090","P17180","P25225","P26270","P09180","P06180"},{"C01090","P17180","P25225","P26139","P27180","P07180"},{"C01090","P17180","P25131","P24090","P23180","P30180"},{"C01090","P19143","P20180","P32225","P31180"},{"C01090","P19143","P20180","P32180"},{"C01090","P19143","P20180","P29180"},{"C01090","P19143","P20180","P22180"},{"C01090","P19143","P20180"},{"C01270","P16180","P13180"},{"C01270","P16180","P13139","P12180"},{"C01270","P16180","P13139","P12225","P11180"},{"C01270","P16180","P13221","P10180"},{"C01270","P16180","P13139","P12225","P11180","P08180"},{"C01090","P18180","P21180"},{"C01090","P17180","P25131","P24090","P23180"},{"C01090","P17180","P25180"},{"C01090","P17180","P25131","P24180"},{"C01090","P17180","P25225","P26139","P27180"},{"C01090","P17180","P25225","P26180"},{"C01090","P17180","P25225","P26270","P09180"},{"C01090","P17180","P25225","P26139","P27180","P28180"},
{"C02270","P04315","P03000","P14034","P15090","C01180"},{"C02180"},{"C02090","C03180"},{"C02090","P06000","P09090","P26045","P25000","S01180"},{"C02270","P04315","P03000","P14034","P15090","S02180"},{"C02270","P04315","P03000","P14034","P15090","S03180"},{"C02270","P04315","P03000","P14034","P15090","S04180"},{"C02270","P04315","P03000","S05180"},{"C02270","P04315","P03000","S06180"},{"C02270","P04315","P03000","S07180"},{"C02090","P06270","P05006","S08180"},{"C02090","P07000","S09180"},{"C02090","P07000","P28090","S10180"},{"C02090","P06000","S11180"},{"C02090","P06270","P05006","S08354","P08000","P11045","P12090","S12180"},{"C02090","P07000","P27045","P24090","P23000","S13180"},{"C02090","P07000","P28090","P29000","S14180"},{"C02090","P07000","P27045","P24090","S15180"},{"C02270","P04315","P03000","P14034","P15090","P17180"},{"C02270","P04315","P03000","P14034","P15090","P18180"},{"C02270","P04315","P03000","P14034","P15090","P19180"},{"C02270","P04315","P03000","P14034","P15090","P16180"},{"C02270","P04315","P03000","P14034","P15180"},{"C02270","P04315","P03000","P14180"},{"C02270","P04315","P03000","P01180"},{"C02270","P04315","P03000","P02180"},{"C02270","P04315","P03180"},{"C02270","P04180"},{"C02090","P06270","P05180"},{"C02090","P06180"},{"C02090","P07180"},{"C02090","P30180"},{"C02090","P31180"},{"C02090","P31045","P32180"},{"C02090","P07000","P28090","P29180"},{"C02090","P07000","P28090","P29000","P22180"},{"C02090","P07000","P28090","P29000","P20180"},{"C02270","P04315","P03000","P01090","P10041","P13180"},{"C02090","P06270","P05006","S08354","P08000","P11045","P12180"},{"C02090","P06270","P05006","S08354","P08000","P11180"},{"C02270","P04315","P03000","P01090","P10180"},{"C02090","P06270","P05006","S08354","P08180"},{"C02090","P07000","P27045","P24090","P23000","P21180"},{"C02090","P07000","P27045","P24090","P23180"},{"C02090","P06000","P09090","P26045","P25180"},{"C02090","P07000","P27045","P24180"},{"C02090","P07000","P27180"},{"C02090","P06000","P09090","P26180"},{"C02090","P06000","P09180"},{"C02090","P07000","P28180"},
{"C03270","P07000","P27319","P26045","P25000","P17270","C01180"},{"C03270","C02180"},{"C03180"},{"C03270","P07000","P27319","P26045","P25000","S01180"},{"C03270","P07000","P27319","P26045","P25000","P17090","S02180"},{"C03270","P07000","P27319","P26045","P25000","P17270","S03180"},{"C03270","P07000","P27319","P26045","P25000","P17270","S04180"},{"C03270","P04315","P03000","S05180"},{"C03270","P04315","P03000","S06180"},{"C03270","P04315","P03000","S07180"},{"C03270","P05006","S08180"},{"C03270","P07000","S09180"},{"C03270","P07000","P28090","S10180"},{"C03270","P06000","S11180"},{"C03270","P05006","S08354","P08000","P11045","P12090","S12180"},{"C03270","P07000","P27045","P24090","P23000","S13180"},{"C03090","P31045","P32000","S14180"},{"C03090","P31045","P32000","P22270","S15180"},{"C03270","P07000","P27319","P26045","P25000","P17180"},{"C03270","P07000","P27045","P24090","P23000","P18180"},{"C03090","P31045","P32000","P20323","P19180"},{"C03270","P07000","P27319","P26045","P25000","P17270","P16180"},{"C03270","P04315","P03000","P14034","P15180"},{"C03270","P04315","P03000","P14180"},{"C03270","P04315","P03000","P01180"},{"C03270","P04315","P03000","P02180"},{"C03270","P04315","P03180"},{"C03270","P04180"},{"C03270","P05180"},{"C03270","P06180"},{"C03270","P07180"},{"C03090","P30180"},{"C03090","P31180"},{"C03090","P31045","P32180"},{"C03090","P31045","P32000","P29180"},{"C03090","P31045","P32000","P22180"},{"C03090","P31045","P32000","P20180"},{"C03270","P05006","S08354","P08000","P11045","P12319","P13180"},{"C03270","P05006","S08354","P08000","P11045","P12180"},{"C03270","P05006","S08354","P08000","P11180"},{"C03270","P05006","S08354","P08000","P11315","P10180"},{"C03270","P05006","S08354","P08180"},{"C03270","P07000","P27045","P24090","P23000","P21180"},{"C03270","P07000","P27045","P24090","P23180"},{"C03270","P07000","P27319","P26045","P25180"},{"C03270","P07000","P27045","P24180"},{"C03270","P07000","P27180"},{"C03270","P07000","P27319","P26180"},{"C03270","P06000","P09180"},{"C03270","P07000","P28180"},
{"S01000","P17270","C01180"},{"S01180","P25225","P26270","P09180","P06270","C02180"},{"S01180","P25225","P26139","P27180","P07090","C03180"},{"S01180"},{"S01000","P17090","S02180"},{"S01000","P17270","S03180"},{"S01000","P17270","S04180"},{"S01000","P17270","P15214","P14180","S05180"},{"S01000","P17270","P15214","P14180","S06180"},{"S01180","P25225","P26270","P02180","S07180"},{"S01180","P25225","P26270","P09180","P06270","P05006","S08180"},{"S01180","P25225","P26139","P27180","S09180"},{"S01180","P25225","P26139","P27180","P28090","S10180"},{"S01180","P25225","P26270","P09180","S11180"},{"S01000","P17090","P18180","P21270","S12180"},{"S01000","P17090","P18180","S13180"},{"S01000","P17090","P19143","P20180","S14180"},{"S01180","P25131","P24090","S15180"},{"S01000","P17180"},{"S01000","P17090","P18180"},{"S01000","P17090","P19180"},{"S01000","P17270","P16180"},{"S01000","P17270","P15180"},{"S01000","P17270","P15214","P14180"},{"S01000","P17270","P15214","P14180","P01180"},{"S01180","P25225","P26270","P02180"},{"S01180","P25225","P26270","P02180","P03180"},{"S01180","P25225","P26270","P09180","P06270","P04180"},{"S01180","P25225","P26270","P09180","P06270","P05180"},{"S01180","P25225","P26270","P09180","P06180"},{"S01180","P25225","P26139","P27180","P07180"},{"S01180","P25131","P24090","P23180","P30180"},{"S01180","P25131","P24090","P23180","P30090","P31180"},{"S01180","P25131","P24090","P22180","P32180"},{"S01180","P25131","P24090","P22180","P29180"},{"S01180","P25131","P24090","P22180"},{"S01000","P17090","P19143","P20180"},{"S01000","P17270","P16180","P13180"},{"S01000","P17270","P16180","P13139","P12180"},{"S01000","P17270","P16180","P13139","P12225","P11180"},{"S01000","P17270","P16180","P13221","P10180"},{"S01180","P25225","P26139","P27180","P28270","P08180"},{"S01000","P17090","P18180","P21180"},{"S01180","P25131","P24090","P23180"},{"S01180","P25180"},{"S01180","P25131","P24180"},{"S01180","P25225","P26139","P27180"},{"S01180","P25225","P26180"},{"S01180","P25225","P26270","P09180"},{"S01180","P25225","P26139","P27180","P28180"},
{"S02270","C01180"},{"S02270","P15214","P14180","P03135","P04090","C02180"},{"S02270","P17180","P25225","P26139","P27180","P07090","C03180"},{"S02270","P17180","S01180"},{"S02180"},{"S02270","S03180"},{"S02270","S04180"},{"S02270","P15214","P14180","S05180"},{"S02270","P15214","P14180","S06180"},{"S02270","P15214","P14180","S07180"},{"S02270","P16180","P13139","P12225","P11180","S08180"},{"S02270","P17180","P25225","P26139","P27180","S09180"},{"S02090","P19143","P20180","P29270","S10180"},{"S02270","P17180","P25225","P26270","P09180","S11180"},{"S02090","P18180","P21270","S12180"},{"S02090","P18180","S13180"},{"S02090","P19143","P20180","S14180"},{"S02090","P19143","P20180","P22270","S15180"},{"S02270","P17180"},{"S02090","P18180"},{"S02090","P19180"},{"S02270","P16180"},{"S02270","P15180"},{"S02270","P15214","P14180"},{"S02270","P15214","P14180","P01180"},{"S02270","P15214","P14180","P02180"},{"S02270","P15214","P14180","P03180"},{"S02270","P15214","P14180","P03135","P04180"},{"S02270","P17180","P25225","P26270","P09180","P06270","P05180"},{"S02270","P17180","P25225","P26270","P09180","P06180"},{"S02270","P17180","P25225","P26139","P27180","P07180"},{"S02270","P17180","P25131","P24090","P23180","P30180"},{"S02090","P19143","P20180","P32225","P31180"},{"S02090","P19143","P20180","P32180"},{"S02090","P19143","P20180","P29180"},{"S02090","P19143","P20180","P22180"},{"S02090","P19143","P20180"},{"S02270","P16180","P13180"},{"S02270","P16180","P13139","P12180"},{"S02270","P16180","P13139","P12225","P11180"},{"S02270","P16180","P13221","P10180"},{"S02270","P16180","P13139","P12225","P11180","P08180"},{"S02090","P18180","P21180"},{"S02270","P17180","P25131","P24090","P23180"},{"S02270","P17180","P25180"},{"S02270","P17180","P25131","P24180"},{"S02270","P17180","P25225","P26139","P27180"},{"S02270","P17180","P25225","P26180"},{"S02270","P17180","P25225","P26270","P09180"},{"S02270","P17180","P25225","P26139","P27180","P28180"},
{"S03270","C01180"},{"S03270","P15214","P14180","P03135","P04090","C02180"},{"S03090","P17180","P25225","P26139","P27180","P07090","C03180"},{"S03090","P17180","S01180"},{"S03090","S02180"},{"S03180"},{"S03270","S04180"},{"S03270","P15214","P14180","S05180"},{"S03270","P15214","P14180","S06180"},{"S03270","P15214","P14180","S07180"},{"S03270","P16180","P13139","P12225","P11180","S08180"},{"S03090","P17180","P25225","P26139","P27180","S09180"},{"S03090","P17180","P25225","P26139","P27180","P28090","S10180"},{"S03090","P17180","P25225","P26270","P09180","S11180"},{"S03270","P16180","P13139","P12090","S12180"},{"S03090","P18180","S13180"},{"S03090","P19143","P20180","S14180"},{"S03090","P17180","P25131","P24090","S15180"},{"S03090","P17180"},{"S03090","P18180"},{"S03090","P19180"},{"S03270","P16180"},{"S03270","P15180"},{"S03270","P15214","P14180"},{"S03270","P15214","P14180","P01180"},{"S03270","P15214","P14180","P02180"},{"S03270","P15214","P14180","P03180"},{"S03270","P15214","P14180","P03135","P04180"},{"S03270","P16180","P13139","P12225","P11180","P05180"},{"S03090","P17180","P25225","P26270","P09180","P06180"},{"S03090","P17180","P25225","P26139","P27180","P07180"},{"S03090","P17180","P25131","P24090","P23180","P30180"},{"S03090","P19143","P20180","P32225","P31180"},{"S03090","P19143","P20180","P32180"},{"S03090","P19143","P20180","P29180"},{"S03090","P19143","P20180","P22180"},{"S03090","P19143","P20180"},{"S03270","P16180","P13180"},{"S03270","P16180","P13139","P12180"},{"S03270","P16180","P13139","P12225","P11180"},{"S03270","P16180","P13221","P10180"},{"S03270","P16180","P13139","P12225","P11180","P08180"},{"S03090","P18180","P21180"},{"S03090","P17180","P25131","P24090","P23180"},{"S03090","P17180","P25180"},{"S03090","P17180","P25131","P24180"},{"S03090","P17180","P25225","P26139","P27180"},{"S03090","P17180","P25225","P26180"},{"S03090","P17180","P25225","P26270","P09180"},{"S03090","P17180","P25225","P26139","P27180","P28180"},
{"S04090","C01180"},{"S04270","P15214","P14180","P03135","P04090","C02180"},{"S04090","P17180","P25225","P26139","P27180","P07090","C03180"},{"S04090","P17180","S01180"},{"S04090","S02180"},{"S04090","S03180"},{"S04180"},{"S04270","P15214","P14180","S05180"},{"S04270","P15214","P14180","S06180"},{"S04270","P15214","P14180","S07180"},{"S04090","P16180","P13139","P12225","P11180","S08180"},{"S04090","P17180","P25225","P26139","P27180","S09180"},{"S04090","P19143","P20180","P29270","S10180"},{"S04270","P15214","P14180","P02090","P09180","S11180"},{"S04090","P16180","P13139","P12090","S12180"},{"S04090","P18180","S13180"},{"S04090","P19143","P20180","S14180"},{"S04090","P17180","P25131","P24090","S15180"},{"S04090","P17180"},{"S04090","P18180"},{"S04090","P19180"},{"S04090","P16180"},{"S04270","P15180"},{"S04270","P15214","P14180"},{"S04270","P15214","P14180","P01180"},{"S04270","P15214","P14180","P02180"},{"S04270","P15214","P14180","P03180"},{"S04270","P15214","P14180","P03135","P04180"},{"S04090","P16180","P13139","P12225","P11180","P05180"},{"S04270","P15214","P14180","P03135","P04090","P06180"},{"S04270","P15214","P14180","P03135","P04090","P07180"},{"S04270","P15214","P14180","P03135","P04090","P30180"},{"S04270","P15214","P14180","P03135","P04090","P31180"},{"S04090","P19143","P20180","P32180"},{"S04090","P19143","P20180","P29180"},{"S04090","P19143","P20180","P22180"},{"S04090","P19143","P20180"},{"S04090","P16180","P13180"},{"S04090","P16180","P13139","P12180"},{"S04090","P16180","P13139","P12225","P11180"},{"S04090","P16180","P13221","P10180"},{"S04090","P16180","P13139","P12225","P11180","P08180"},{"S04090","P18180","P21180"},{"S04090","P17180","P25131","P24090","P23180"},{"S04090","P17180","P25180"},{"S04090","P17180","P25131","P24180"},{"S04090","P17180","P25225","P26139","P27180"},{"S04090","P17180","P25225","P26180"},{"S04270","P15214","P14180","P02090","P09180"},{"S04090","P17180","P25225","P26139","P27180","P28180"},
{"S05000","P14034","P15090","C01180"},{"S05180","P03135","P04090","C02180"},{"S05180","P03135","P04090","C03180"},{"S05000","P14034","P15090","P17180","S01180"},{"S05000","P14034","P15090","S02180"},{"S05000","P14034","P15090","S03180"},{"S05000","P14034","P15090","S04180"},{"S05180"},{"S05180","S06180"},{"S05180","S07180"},{"S05180","P01090","P10135","P11180","S08180"},{"S05180","P03135","P04090","P07000","S09180"},{"S05180","P01090","P10135","P11180","P08090","S10180"},{"S05180","P02090","P09180","S11180"},{"S05180","P01090","P10135","P11045","P12090","S12180"},{"S05000","P14034","P15090","P18180","S13180"},{"S05000","P14034","P15090","P19143","P20180","S14180"},{"S05000","P14034","P15090","P17180","P25131","P24090","S15180"},{"S05000","P14034","P15090","P17180"},{"S05000","P14034","P15090","P18180"},{"S05000","P14034","P15090","P19180"},{"S05000","P14034","P15090","P16180"},{"S05000","P14034","P15180"},{"S05000","P14180"},{"S05180","P01180"},{"S05180","P02180"},{"S05180","P03180"},{"S05180","P03135","P04180"},{"S05180","P01090","P10135","P11180","P05180"},{"S05180","P03135","P04090","P06180"},{"S05180","P03135","P04090","P07180"},{"S05180","P03135","P04090","P30180"},{"S05180","P03135","P04090","P31180"},{"S05180","P03135","P04090","P31045","P32180"},{"S05000","P14034","P15090","P19143","P20180","P29180"},{"S05000","P14034","P15090","P19143","P20180","P22180"},{"S05000","P14034","P15090","P19143","P20180"},{"S05180","P01090","P10041","P13180"},{"S05180","P01090","P10135","P11045","P12180"},{"S05180","P01090","P10135","P11180"},{"S05180","P01090","P10180"},{"S05180","P01090","P10135","P11180","P08180"},{"S05000","P14034","P15090","P18180","P21180"},{"S05000","P14034","P15090","P17180","P25131","P24090","P23180"},{"S05000","P14034","P15090","P17180","P25180"},{"S05000","P14034","P15090","P17180","P25131","P24180"},{"S05180","P02090","P26139","P27180"},{"S05180","P02090","P26180"},{"S05180","P02090","P09180"},{"S05180","P01090","P10135","P11180","P08090","P28180"},
{"S06000","P14034","P15090","C01180"},{"S06180","P03135","P04090","C02180"},{"S06180","P03135","P04090","C03180"},{"S06000","P14034","P15090","P17180","S01180"},{"S06000","P14034","P15090","S02180"},{"S06000","P14034","P15090","S03180"},{"S06000","P14034","P15090","S04180"},{"S06000","S05180"},{"S06180"},{"S06180","S07180"},{"S06000","P01090","P10135","P11180","S08180"},{"S06180","P03135","P04090","P07000","S09180"},{"S06180","P02090","P26139","P27180","P28090","S10180"},{"S06180","P02090","P09180","S11180"},{"S06000","P01090","P10135","P11045","P12090","S12180"},{"S06000","P14034","P15090","P18180","S13180"},{"S06000","P14034","P15090","P19143","P20180","S14180"},{"S06180","P02090","P26045","P25131","P24090","S15180"},{"S06000","P14034","P15090","P17180"},{"S06000","P14034","P15090","P18180"},{"S06000","P14034","P15090","P19180"},{"S06000","P14034","P15090","P16180"},{"S06000","P14034","P15180"},{"S06000","P14180"},{"S06000","P01180"},{"S06180","P02180"},{"S06180","P03180"},{"S06180","P03135","P04180"},{"S06000","P01090","P10135","P11180","P05180"},{"S06180","P03135","P04090","P06180"},{"S06180","P03135","P04090","P07180"},{"S06180","P03135","P04090","P30180"},{"S06180","P03135","P04090","P31180"},{"S06180","P03135","P04090","P31045","P32180"},{"S06180","P02090","P26139","P27180","P28090","P29180"},{"S06180","P02090","P26045","P25131","P24090","P22180"},{"S06000","P14034","P15090","P19143","P20180"},{"S06000","P01090","P10041","P13180"},{"S06000","P01090","P10135","P11045","P12180"},{"S06000","P01090","P10135","P11180"},{"S06000","P01090","P10180"},{"S06000","P01090","P10135","P11180","P08180"},{"S06000","P01090","P10135","P11045","P12090","P21180"},{"S06180","P02090","P26045","P25131","P24090","P23180"},{"S06180","P02090","P26045","P25180"},{"S06180","P02090","P26045","P25131","P24180"},{"S06180","P02090","P26139","P27180"},{"S06180","P02090","P26180"},{"S06180","P02090","P09180"},{"S06180","P02090","P26139","P27180","P28180"},
{"S07000","P14034","P15090","C01180"},{"S07180","P03135","P04090","C02180"},{"S07180","P03135","P04090","C03180"},{"S07000","P02090","P26045","P25000","S01180"},{"S07000","P14034","P15090","S02180"},{"S07000","P14034","P15090","S03180"},{"S07000","P14034","P15090","S04180"},{"S07000","S05180"},{"S07000","S06180"},{"S07180"},{"S07180","P03135","P04090","P06270","P05006","S08180"},{"S07180","P03135","P04090","P07000","S09180"},{"S07180","P03135","P04090","P07000","P28090","S10180"},{"S07180","P03135","P04090","P06000","S11180"},{"S07000","P01090","P10135","P11045","P12090","S12180"},{"S07000","P14034","P15090","P18180","S13180"},{"S07180","P03135","P04090","P07000","P28090","P29000","S14180"},{"S07180","P03135","P04090","P07000","P27045","P24090","S15180"},{"S07000","P14034","P15090","P17180"},{"S07000","P14034","P15090","P18180"},{"S07000","P14034","P15090","P19180"},{"S07000","P14034","P15090","P16180"},{"S07000","P14034","P15180"},{"S07000","P14180"},{"S07000","P01180"},{"S07000","P02180"},{"S07180","P03180"},{"S07180","P03135","P04180"},{"S07180","P03135","P04090","P06270","P05180"},{"S07180","P03135","P04090","P06180"},{"S07180","P03135","P04090","P07180"},{"S07180","P03135","P04090","P30180"},{"S07180","P03135","P04090","P31180"},{"S07180","P03135","P04090","P31045","P32180"},{"S07180","P03135","P04090","P07000","P28090","P29180"},{"S07180","P03135","P04090","P07000","P28090","P29000","P22180"},{"S07000","P14034","P15090","P19143","P20180"},{"S07000","P01090","P10041","P13180"},{"S07000","P01090","P10135","P11045","P12180"},{"S07000","P01090","P10135","P11180"},{"S07000","P01090","P10180"},{"S07180","P03135","P04090","P06270","P05006","S08354","P08180"},{"S07000","P14034","P15090","P18180","P21180"},{"S07180","P03135","P04090","P07000","P27045","P24090","P23180"},{"S07000","P02090","P26045","P25180"},{"S07180","P03135","P04090","P07000","P27045","P24180"},{"S07180","P03135","P04090","P07000","P27180"},{"S07000","P02090","P26180"},{"S07000","P02090","P09180"},{"S07180","P03135","P04090","P07000","P28180"},
{"S08354","P08000","P11045","P12319","P13000","P16090","C01180"},{"S08186","P05090","P06270","C02180"},{"S08186","P05090","C03180"},{"S08186","P05090","P06000","P09090","P26045","P25000","S01180"},{"S08354","P08000","P11045","P12319","P13000","P16090","S02180"},{"S08354","P08000","P11045","P12319","P13000","P16090","S03180"},{"S08354","P08000","P11045","P12319","P13000","P16270","S04180"},{"S08354","P08000","P11315","P10270","P01000","S05180"},{"S08354","P08000","P11315","P10270","P01180","S06180"},{"S08186","P05090","P06270","P04315","P03000","S07180"},{"S08180"},{"S08186","P05090","P07000","S09180"},{"S08354","P08090","S10180"},{"S08186","P05090","P06000","S11180"},{"S08354","P08000","P11045","P12090","S12180"},{"S08354","P08000","P11045","P12090","P21000","S13180"},{"S08354","P08090","P29000","S14180"},{"S08354","P08090","P28000","P27045","P24090","S15180"},{"S08354","P08000","P11045","P12319","P13000","P16090","P17180"},{"S08354","P08000","P11045","P12090","P21000","P18180"},{"S08354","P08090","P29000","P20323","P19180"},{"S08354","P08000","P11045","P12319","P13000","P16180"},{"S08354","P08000","P11315","P10270","P01000","P14034","P15180"},{"S08354","P08000","P11315","P10270","P01000","P14180"},{"S08354","P08000","P11315","P10270","P01180"},{"S08186","P05270","P04315","P03000","P02180"},{"S08186","P05270","P04315","P03180"},{"S08186","P05270","P04180"},{"S08186","P05180"},{"S08186","P05090","P06180"},{"S08186","P05090","P07180"},{"S08186","P05090","P30180"},{"S08186","P05090","P31180"},{"S08186","P05090","P31045","P32180"},{"S08354","P08090","P29180"},{"S08354","P08090","P29000","P22180"},{"S08354","P08090","P29000","P20180"},{"S08354","P08000","P11045","P12319","P13180"},{"S08354","P08000","P11045","P12180"},{"S08354","P08000","P11180"},{"S08354","P08000","P11315","P10180"},{"S08354","P08180"},{"S08354","P08000","P11045","P12090","P21180"},{"S08354","P08090","P28000","P27045","P24090","P23180"},{"S08186","P05090","P06000","P09090","P26045","P25180"},{"S08354","P08090","P28000","P27045","P24180"},{"S08354","P08090","P28000","P27180"},{"S08186","P05090","P06000","P09090","P26180"},{"S08186","P05090","P06000","P09180"},{"S08354","P08090","P28180"},
{"S09000","P27319","P26045","P25000","P17270","C01180"},{"S09180","P07270","C02180"},{"S09180","P07090","C03180"},{"S09000","P27319","P26045","P25000","S01180"},{"S09000","P27319","P26045","P25000","P17090","S02180"},{"S09000","P27319","P26045","P25000","P17270","S03180"},{"S09000","P27319","P26045","P25000","P17270","S04180"},{"S09180","P07270","P04315","P03000","S05180"},{"S09180","P07270","P04315","P03000","S06180"},{"S09180","P07270","P04315","P03000","S07180"},{"S09180","P07270","P05006","S08180"},{"S09180"},{"S09000","P28090","S10180"},{"S09180","P07270","P06000","S11180"},{"S09000","P27045","P24090","P23000","P21270","S12180"},{"S09000","P27045","P24090","P23000","S13180"},{"S09000","P28090","P29000","S14180"},{"S09000","P27045","P24090","S15180"},{"S09000","P27319","P26045","P25000","P17180"},{"S09000","P27045","P24090","P23000","P18180"},{"S09000","P28090","P29000","P20323","P19180"},{"S09000","P27319","P26045","P25000","P17270","P16180"},{"S09000","P27319","P26045","P25000","P17270","P15180"},{"S09000","P27319","P26270","P02000","P14180"},{"S09000","P27319","P26270","P02000","P01180"},{"S09000","P27319","P26270","P02180"},{"S09180","P07270","P04315","P03180"},{"S09180","P07270","P04180"},{"S09180","P07270","P05180"},{"S09180","P07270","P06180"},{"S09180","P07180"},{"S09180","P07090","P30180"},{"S09180","P07090","P31180"},{"S09180","P07090","P31045","P32180"},{"S09000","P28090","P29180"},{"S09000","P28090","P29000","P22180"},{"S09000","P28090","P29000","P20180"},{"S09000","P27045","P24090","P23000","P21278","P13180"},{"S09000","P28270","P08000","P11045","P12180"},{"S09000","P28270","P08000","P11180"},{"S09000","P28270","P08000","P11315","P10180"},{"S09000","P28270","P08180"},{"S09000","P27045","P24090","P23000","P21180"},{"S09000","P27045","P24090","P23180"},{"S09000","P27319","P26045","P25180"},{"S09000","P27045","P24180"},{"S09000","P27180"},{"S09000","P27319","P26180"},{"S09000","P27319","P26270","P09180"},{"S09000","P28180"},
{"S10090","P29000","P20323","P19270","C01180"},{"S10270","P28180","P07270","C02180"},{"S10270","P28180","P07090","C03180"},{"S10270","P28000","P27319","P26045","P25000","S01180"},{"S10090","P29000","P20323","P19270","S02180"},{"S10270","P28000","P27319","P26045","P25000","P17270","S03180"},{"S10090","P29000","P20323","P19270","S04180"},{"S10270","P08000","P11315","P10270","P01000","S05180"},{"S10270","P28000","P27319","P26270","P02000","S06180"},{"S10270","P28180","P07270","P04315","P03000","S07180"},{"S10270","P08174","S08180"},{"S10270","P28180","S09180"},{"S10180"},{"S10270","P28000","P27319","P26270","P09180","S11180"},{"S10270","P08000","P11045","P12090","S12180"},{"S10270","P28000","P27045","P24090","P23000","S13180"},{"S10090","P29000","S14180"},{"S10090","P29000","P22270","S15180"},{"S10270","P28000","P27319","P26045","P25000","P17180"},{"S10270","P28000","P27045","P24090","P23000","P18180"},{"S10090","P29000","P20323","P19180"},{"S10270","P28000","P27319","P26045","P25000","P17270","P16180"},{"S10270","P28000","P27319","P26045","P25000","P17270","P15180"},{"S10270","P28000","P27319","P26270","P02000","P14180"},{"S10270","P28000","P27319","P26270","P02000","P01180"},{"S10270","P28000","P27319","P26270","P02180"},{"S10270","P28180","P07270","P04315","P03180"},{"S10270","P28180","P07270","P04180"},{"S10270","P28180","P07270","P05180"},{"S10270","P28180","P07270","P06180"},{"S10270","P28180","P07180"},{"S10270","P28180","P07090","P30180"},{"S10090","P29180","P32225","P31180"},{"S10090","P29180","P32180"},{"S10090","P29180"},{"S10090","P29000","P22180"},{"S10090","P29000","P20180"},{"S10270","P08000","P11045","P12319","P13180"},{"S10270","P08000","P11045","P12180"},{"S10270","P08000","P11180"},{"S10270","P08000","P11315","P10180"},{"S10270","P08180"},{"S10270","P28000","P27045","P24090","P23000","P21180"},{"S10270","P28000","P27045","P24090","P23180"},{"S10270","P28000","P27319","P26045","P25180"},{"S10270","P28000","P27045","P24180"},{"S10270","P28000","P27180"},{"S10270","P28000","P27319","P26180"},{"S10270","P28000","P27319","P26270","P09180"},{"S10270","P28180"},
{"S11000","P09090","P26045","P25000","P17270","C01180"},{"S11180","P06270","C02180"},{"S11180","P06090","C03180"},{"S11000","P09090","P26045","P25000","S01180"},{"S11000","P09090","P26045","P25000","P17090","S02180"},{"S11000","P09090","P26045","P25000","P17270","S03180"},{"S11000","P09270","P02000","P14034","P15090","S04180"},{"S11000","P09270","P02000","S05180"},{"S11000","P09270","P02000","S06180"},{"S11180","P06270","P04315","P03000","S07180"},{"S11180","P06270","P05006","S08180"},{"S11180","P06090","P07000","S09180"},{"S11000","P09090","P26139","P27180","P28090","S10180"},{"S11180"},{"S11180","P06270","P05006","S08354","P08000","P11045","P12090","S12180"},{"S11000","P09090","P26045","P25131","P24090","P23000","S13180"},{"S11000","P09090","P26045","P25131","P24090","P22000","S14180"},{"S11000","P09090","P26045","P25131","P24090","S15180"},{"S11000","P09090","P26045","P25000","P17180"},{"S11000","P09090","P26045","P25000","P17090","P18180"},{"S11000","P09090","P26045","P25000","P17090","P19180"},{"S11000","P09090","P26045","P25000","P17270","P16180"},{"S11000","P09270","P02000","P14034","P15180"},{"S11000","P09270","P02000","P14180"},{"S11000","P09270","P02000","P01180"},{"S11000","P09270","P02180"},{"S11180","P06270","P04315","P03180"},{"S11180","P06270","P04180"},{"S11180","P06270","P05180"},{"S11180","P06180"},{"S11180","P06090","P07180"},{"S11180","P06090","P30180"},{"S11180","P06090","P31180"},{"S11180","P06090","P31045","P32180"},{"S11000","P09090","P26139","P27180","P28090","P29180"},{"S11000","P09090","P26045","P25131","P24090","P22180"},{"S11000","P09090","P26045","P25000","P17090","P19143","P20180"},{"S11000","P09270","P02000","P01090","P10041","P13180"},{"S11180","P06270","P05006","S08354","P08000","P11045","P12180"},{"S11180","P06270","P05006","S08354","P08000","P11180"},{"S11000","P09270","P02000","P01090","P10180"},{"S11180","P06270","P05006","S08354","P08180"},{"S11000","P09090","P26045","P25131","P24090","P23000","P21180"},{"S11000","P09090","P26045","P25131","P24090","P23180"},{"S11000","P09090","P26045","P25180"},{"S11000","P09090","P26045","P25131","P24180"},{"S11000","P09090","P26139","P27180"},{"S11000","P09090","P26180"},{"S11000","P09180"},{"S11000","P09090","P26139","P27180","P28180"},
{"S12270","P12319","P13000","P16090","C01180"},{"S12270","P12225","P11180","P05090","P06270","C02180"},{"S12270","P12225","P11180","P05090","C03180"},{"S12090","P21000","P18270","P17180","S01180"},{"S12090","P21000","P18270","S02180"},{"S12270","P12319","P13000","P16090","S03180"},{"S12270","P12319","P13000","P16270","S04180"},{"S12270","P12225","P11315","P10270","P01000","S05180"},{"S12270","P12225","P11315","P10270","P01180","S06180"},{"S12270","P12225","P11315","P10270","P01180","S07180"},{"S12270","P12225","P11180","S08180"},{"S12090","P21180","P23270","P24225","P27180","S09180"},{"S12270","P12225","P11180","P08090","S10180"},{"S12270","P12225","P11180","P05090","P06000","S11180"},{"S12180"},{"S12090","P21000","S13180"},{"S12090","P21000","P18090","P19143","P20180","S14180"},{"S12270","P12319","P13000","P16090","P17180","P25131","P24090","S15180"},{"S12270","P12319","P13000","P16090","P17180"},{"S12090","P21000","P18180"},{"S12090","P21000","P18090","P19180"},{"S12270","P12319","P13000","P16180"},{"S12270","P12319","P13000","P16270","P15180"},{"S12270","P12319","P13000","P16270","P15214","P14180"},{"S12270","P12225","P11315","P10270","P01180"},{"S12270","P12225","P11315","P10270","P01180","P02180"},{"S12270","P12225","P11315","P10270","P01180","P03180"},{"S12270","P12225","P11180","P05270","P04180"},{"S12270","P12225","P11180","P05180"},{"S12270","P12225","P11180","P05090","P06180"},{"S12270","P12225","P11180","P05090","P07180"},{"S12270","P12225","P11180","P05090","P30180"},{"S12270","P12225","P11180","P05090","P31180"},{"S12270","P12225","P11180","P05090","P31045","P32180"},{"S12270","P12225","P11180","P08090","P29180"},{"S12090","P21000","P18090","P19143","P20180","P22180"},{"S12090","P21000","P18090","P19143","P20180"},{"S12270","P12319","P13180"},{"S12270","P12180"},{"S12270","P12225","P11180"},{"S12270","P12225","P11315","P10180"},{"S12270","P12225","P11180","P08180"},{"S12090","P21180"},{"S12270","P12319","P13000","P16090","P17180","P25131","P24090","P23180"},{"S12270","P12319","P13000","P16090","P17180","P25180"},{"S12270","P12319","P13000","P16090","P17180","P25131","P24180"},{"S12270","P12225","P11180","P08090","P28000","P27180"},{"S12270","P12319","P13000","P16090","P17180","P25225","P26180"},{"S12270","P12225","P11315","P10270","P01180","P02090","P09180"},{"S12270","P12225","P11180","P08090","P28180"},
{"S13000","P18270","C01180"},{"S13180","P23270","P24225","P27180","P07270","C02180"},{"S13180","P23270","P24225","P27180","P07090","C03180"},{"S13000","P18270","P17180","S01180"},{"S13000","P18270","S02180"},{"S13000","P18270","S03180"},{"S13000","P18270","S04180"},{"S13000","P18270","P15214","P14180","S05180"},{"S13000","P18270","P15214","P14180","S06180"},{"S13000","P18270","P15214","P14180","S07180"},{"S13180","P21270","P12225","P11180","S08180"},{"S13180","P23270","P24225","P27180","S09180"},{"S13180","P23270","P24225","P27180","P28090","S10180"},{"S13180","P23270","P24311","P25225","P26270","P09180","S11180"},{"S13180","P21270","S12180"},{"S13180"},{"S13000","P18090","P19143","P20180","S14180"},{"S13000","P18090","P19143","P20180","P22270","S15180"},{"S13000","P18270","P17180"},{"S13000","P18180"},{"S13000","P18090","P19180"},{"S13000","P18270","P16180"},{"S13000","P18270","P15180"},{"S13000","P18270","P15214","P14180"},{"S13000","P18270","P15214","P14180","P01180"},{"S13000","P18270","P15214","P14180","P02180"},{"S13000","P18270","P15214","P14180","P03180"},{"S13000","P18270","P15214","P14180","P03135","P04180"},{"S13180","P21270","P12225","P11180","P05180"},{"S13000","P18270","P17180","P25225","P26270","P09180","P06180"},{"S13000","P18090","P19143","P20180","P29270","P28180","P07180"},{"S13000","P18090","P19143","P20180","P22270","P23180","P30180"},{"S13000","P18090","P19143","P20180","P32225","P31180"},{"S13000","P18090","P19143","P20180","P32180"},{"S13000","P18090","P19143","P20180","P29180"},{"S13000","P18090","P19143","P20180","P22180"},{"S13000","P18090","P19143","P20180"},{"S13180","P21278","P13180"},{"S13180","P21270","P12180"},{"S13180","P21270","P12225","P11180"},{"S13180","P21278","P13221","P10180"},{"S13180","P21270","P12225","P11180","P08180"},{"S13180","P21180"},{"S13000","P18090","P19143","P20180","P22270","P23180"},{"S13000","P18270","P17180","P25180"},{"S13000","P18270","P17180","P25131","P24180"},{"S13000","P18270","P17180","P25225","P26139","P27180"},{"S13000","P18270","P17180","P25225","P26180"},{"S13000","P18270","P17180","P25225","P26270","P09180"},{"S13000","P18090","P19143","P20180","P29270","P28180"},
{"S14000","P20323","P19270","C01180"},{"S14180","P29270","P28180","P07270","C02180"},{"S14180","P32225","P31270","C03180"},{"S14000","P20323","P19270","P17180","S01180"},{"S14000","P20323","P19270","S02180"},{"S14000","P20323","P19270","S03180"},{"S14000","P20323","P19270","S04180"},{"S14000","P20323","P19270","P15214","P14180","S05180"},{"S14000","P20323","P19270","P15214","P14180","S06180"},{"S14180","P29270","P28180","P07270","P04315","P03000","S07180"},{"S14180","P29270","P08174","S08180"},{"S14180","P29270","P28180","S09180"},{"S14180","P29270","S10180"},{"S14180","P22270","P24311","P25225","P26270","P09180","S11180"},{"S14000","P20323","P19270","P18180","P21270","S12180"},{"S14000","P20323","P19270","P18180","S13180"},{"S14180"},{"S14180","P22270","S15180"},{"S14000","P20323","P19270","P17180"},{"S14000","P20323","P19270","P18180"},{"S14000","P20323","P19180"},{"S14000","P20323","P19270","P16180"},{"S14000","P20323","P19270","P15180"},{"S14000","P20323","P19270","P15214","P14180"},{"S14000","P20323","P19270","P15214","P14180","P01180"},{"S14180","P22270","P24311","P25225","P26270","P02180"},{"S14180","P22270","P24311","P25225","P26270","P02180","P03180"},{"S14180","P29270","P08174","P05270","P04180"},{"S14180","P29270","P08174","P05180"},{"S14180","P29270","P28180","P07270","P06180"},{"S14180","P29270","P28180","P07180"},{"S14180","P22270","P23180","P30180"},{"S14180","P32225","P31180"},{"S14180","P32180"},{"S14180","P29180"},{"S14180","P22180"},{"S14000","P20180"},{"S14000","P20323","P19270","P16180","P13180"},{"S14180","P22270","P23000","P21270","P12180"},{"S14180","P29270","P08000","P11180"},{"S14000","P20323","P19270","P16180","P13221","P10180"},{"S14180","P29270","P08180"},{"S14180","P22270","P23000","P21180"},{"S14180","P22270","P23180"},{"S14180","P22270","P24311","P25180"},{"S14180","P22270","P24180"},{"S14180","P22270","P24225","P27180"},{"S14180","P22270","P24311","P25225","P26180"},{"S14180","P22270","P24311","P25225","P26270","P09180"},{"S14180","P29270","P28180"},
{"S15270","P24311","P25000","P17270","C01180"},{"S15270","P24225","P27180","P07270","C02180"},{"S15090","P22180","P32225","P31270","C03180"},{"S15270","P24311","P25000","S01180"},{"S15090","P22000","P20323","P19270","S02180"},{"S15270","P24311","P25000","P17270","S03180"},{"S15270","P24311","P25000","P17270","S04180"},{"S15270","P24311","P25000","P17270","P15214","P14180","S05180"},{"S15270","P24311","P25225","P26270","P02000","S06180"},{"S15270","P24225","P27180","P07270","P04315","P03000","S07180"},{"S15270","P24225","P27180","P28270","P08174","S08180"},{"S15270","P24225","P27180","S09180"},{"S15090","P22180","P29270","S10180"},{"S15270","P24311","P25225","P26270","P09180","S11180"},{"S15270","P24311","P25000","P17270","P16180","P13139","P12090","S12180"},{"S15090","P22000","P20323","P19270","P18180","S13180"},{"S15090","P22000","S14180"},{"S15180"},{"S15270","P23000","P18270","P17180"},{"S15270","P23000","P18180"},{"S15090","P22000","P20323","P19180"},{"S15270","P23000","P18270","P16180"},{"S15270","P23000","P18270","P15180"},{"S15270","P23000","P18270","P15214","P14180"},{"S15270","P23000","P21278","P13221","P10270","P01180"},{"S15270","P24311","P25225","P26270","P02180"},{"S15270","P24225","P27180","P07270","P04315","P03180"},{"S15270","P24225","P27180","P07270","P04180"},{"S15270","P24225","P27180","P07270","P05180"},{"S15270","P24225","P27180","P07270","P06180"},{"S15270","P24225","P27180","P07180"},{"S15270","P23180","P30180"},{"S15090","P22180","P32225","P31180"},{"S15090","P22180","P32180"},{"S15090","P22180","P29180"},{"S15090","P22180"},{"S15090","P22000","P20180"},{"S15270","P23000","P21278","P13180"},{"S15270","P23000","P21270","P12180"},{"S15270","P23000","P21270","P12225","P11180"},{"S15270","P23000","P21278","P13221","P10180"},{"S15270","P24225","P27180","P28270","P08180"},{"S15270","P23000","P21180"},{"S15270","P23180"},{"S15270","P24311","P25180"},{"S15270","P24180"},{"S15270","P24225","P27180"},{"S15270","P24311","P25225","P26180"},{"S15270","P24311","P25225","P26270","P09180"},{"S15270","P24225","P27180","P28180"},
};
//same idea as above ^ 
const int distanceTo[] = {0,974,1257,222,185,75,115,291,391,541,752,947,1131,864,397,342,593,722,135,235,320,65,155,208,341,441,626,777,802,1014,997,1047,1081,873,793,693,414,150,276,420,276,702,392,672,337,500,688,493,670,897,
974,0,300,1066,1048,938,748,433,333,183,420,360,552,360,1088,1215,1062,921,998,1098,1183,798,583,468,383,283,67,35,300,150,250,350,430,550,702,962,1142,741,852,636,538,471,1165,871,773,666,470,570,410,410,
1257,300,0,780,1056,1068,1258,865,765,615,360,120,264,360,1002,800,524,569,830,850,755,1208,1102,900,815,715,427,335,250,150,50,50,130,190,324,424,604,1031,780,576,780,411,750,525,535,378,230,372,410,170,
222,1066,780,0,120,132,322,589,689,829,1112,564,677,481,679,264,499,402,50,170,255,272,362,456,639,591,914,962,877,631,614,663,891,743,663,452,336,398,574,778,574,905,314,352,115,234,368,227,351,514,
185,1048,1056,120,0,110,300,558,658,808,1136,771,812,688,506,120,326,572,50,50,135,250,340,430,608,708,893,1097,1126,838,821,870,762,606,526,426,192,372,542,740,542,1085,170,525,235,378,541,371,523,721,
75,938,1068,132,110,0,190,399,499,649,908,792,950,709,526,252,485,592,60,160,245,140,230,298,449,549,734,906,958,859,842,891,952,765,685,585,324,240,384,550,384,857,302,542,247,392,558,385,541,742,
115,748,1258,322,300,190,0,126,226,376,721,1243,1143,802,371,480,758,921,250,350,435,50,40,70,176,276,461,578,771,886,986,1086,1166,1038,958,858,552,132,254,394,254,671,530,871,475,666,887,659,619,1093,
291,433,865,589,558,399,126,0,100,250,554,1026,942,622,540,629,937,1136,374,474,559,174,64,35,50,150,335,427,604,705,805,905,985,1216,1092,1037,701,261,395,255,138,504,679,1086,624,845,735,533,468,892,
391,333,765,689,658,499,226,100,0,150,554,832,998,478,540,802,1145,1079,518,618,703,318,184,135,50,50,235,307,604,561,661,761,841,1043,1148,1129,874,261,395,255,138,504,792,1029,585,797,591,413,348,782,
541,183,615,829,808,649,376,250,150,0,701,594,833,550,851,1061,1456,1182,734,834,919,534,364,285,200,100,85,127,534,345,445,545,625,784,983,1232,1133,477,654,471,318,751,1103,1132,657,884,663,473,408,644,
752,420,360,1112,1136,908,721,554,554,701,0,396,398,396,483,942,878,950,1037,992,1180,687,848,689,495,456,212,155,50,180,280,380,460,586,548,778,958,513,347,215,347,50,735,900,825,690,490,614,446,348,
947,360,120,564,771,792,1243,1026,832,594,396,0,120,396,954,593,544,403,623,643,779,959,1049,904,819,591,463,365,280,180,50,170,250,334,270,444,624,1015,828,616,828,348,543,353,362,234,110,228,351,50,
1131,552,264,677,812,950,1143,942,998,833,398,120,0,519,959,631,400,420,661,681,606,1005,1095,942,857,623,636,509,424,324,170,314,365,276,150,300,480,989,744,546,744,290,581,384,394,260,132,254,383,50,
864,360,360,481,688,709,802,622,478,550,396,396,519,0,1088,834,904,604,494,702,787,804,757,613,528,348,487,385,300,150,300,400,480,610,673,654,975,949,852,636,711,471,784,554,255,401,261,138,50,386,
397,1088,1002,679,506,526,371,540,540,851,483,954,959,1088,0,362,992,1370,532,412,597,266,419,525,408,600,785,677,485,702,802,902,982,1212,949,1092,746,162,55,155,275,384,252,1358,814,1072,971,1065,1008,749,
342,1215,800,264,120,252,480,629,802,1061,942,593,631,834,362,0,365,618,170,50,162,370,460,574,780,880,1065,1303,1006,1087,1200,1042,808,645,565,465,224,423,417,590,603,906,50,668,379,550,748,544,731,908,
593,1062,524,499,326,485,758,937,1145,1456,878,544,400,904,992,365,0,180,353,253,126,553,643,793,1044,1064,1482,1250,963,929,674,516,370,280,200,100,80,736,833,1050,979,710,396,230,444,290,450,622,824,470,
722,921,569,402,572,592,921,1136,1079,1182,950,403,420,604,1370,618,180,0,446,280,342,646,736,905,1013,753,1043,848,763,663,453,300,346,260,180,50,260,579,573,777,791,711,180,50,228,110,234,362,513,353,
};
//NOTE THAT THE PATH FILE IS LOCATED AT [C:\CoSpaceRobot Studio\ADL-2023\ADL\Bin\path.txt] AND WILL NOT RUN WITHOUT IT

int angleToTurn = 0;
int needTurnAfterStation = 0;
int P = 0, I = 0, D = 0, previousError = 0, PID = 0;
//1,1.25,1
int highSpeed = 100;
//higher p = move to cnter faster, d higher is more dampening, higher i = faster reaction to steady state error
//0.5, 0.01, 4
double Kp = 1.1, Ki = 0.01, Kd = 6;

//changing dist also means changing turning Cofficient
int curvedTurnStartDist = 20;

//lower = less sharp, higher = more sharp
double turningCoefficient = 0.9;
double startDistance = 0;

#define CsBot_AI_C//DO NOT delete this line

////////////CoSpace System Functions, Please DON't modify./////////////////////
///////////////////////////////////////////////////////////////////////////////

char TaskString[256];//For Individual Challenge ONLY
struct Task
{
    int TaskID;
    int StationID;
    int ActionID;
} TaskList[10];//For Individual Challenge ONLY

DLL_EXPORT int  GetGameID()
{
    return CurGame;
}
DLL_EXPORT int GetCurAction()
{
    return CurAction;
}

DLL_EXPORT void SetTaskString(char* gameTask)
{
    strcpy(TaskString, gameTask);
    printf(gameTask);
    printf("\r\n");
}

DLL_EXPORT void AddTaskItem(int TaskID, int StationID, int ActionID)
{
    if (TaskID < 0 || TaskID >= 10) return;
    TaskList[TaskID].TaskID = TaskID;
    TaskList[TaskID].StationID = StationID;
    TaskList[TaskID].ActionID = ActionID;
    printf("Task:(TaskID:%d, StID:%d, ActID:%d)\r\n", TaskID, StationID, ActionID);
}
//May not work well in Swarmland. 
int TurnTo(int curRot, int targetRot)
{
    int angularErrorThreshold = 10;
    int angleDiff = (curRot - targetRot + 360) % 360;
    int turningSpeed;

    if (angleDiff <= angularErrorThreshold || angleDiff > 360 - angularErrorThreshold)
    {
        Duration = 0;
        turningSpeed = 0;
        return 1;
    }
    else if (angleDiff <= 180)
        turningSpeed = angleDiff / 2 + 3;
    else
        turningSpeed = (angleDiff - 360) / 2 - 3;
        
    WheelLeft = turningSpeed;
    WheelRight = -WheelLeft;
    Duration = 128;
    return 1;
}

//calculates the difference in angle, +\- with respect to start facing
int calculateAngleDiff(int start, int end)
{
    int angleDiff = (end - start);
    if (angleDiff > 180) { return angleDiff - 360; }
    else if (angleDiff < -180) { return angleDiff + 360; }
    return angleDiff;
}


int CurvedTurnTo(int curRot, int targetRot)
{
    int angularErrorThreshold = 20;
    int angleDiff = calculateAngleDiff(curRot, targetRot);

    //if turning is done
    if (angleDiff <= angularErrorThreshold && angleDiff >= -angularErrorThreshold)
    {
        Duration = 0;
        return 1;
    }
    //turning right
    if (angleDiff < 0)
    {
        WheelLeft = highSpeed;
        WheelRight = highSpeed-(abs(angleDiff) * turningCoefficient);
    }
    //turning left  
    else
    {
        WheelLeft = highSpeed-(abs(angleDiff) * turningCoefficient);
        WheelRight = highSpeed;
    }
    Duration = 128;
    return 1;

}
struct DeliveryItem
{
    int ItemID;
    int CenterID;
    int CollectionPtID;
    int Deadline;
    int ItemScore;
    int CurStatus; //1:at Center; 2:on Car; 3:at Station;
} DeliveryItemList[100]; //All Items
int onCar[6] = {0,1,2,3,4,5};
int nextParcelID = 6;
DLL_EXPORT void AddDeliveryItem(int ItemID, int CenterID, int StationID, int ItemScore, int Deadline, int CurStatus)
{
    if (ItemID < 0 || ItemID>99) {
        printf("ItemID Error! ID = %d", ItemID);
        return;
    }
    DeliveryItemList[ItemID].ItemID = ItemID;
    DeliveryItemList[ItemID].CenterID = CenterID;
    DeliveryItemList[ItemID].CollectionPtID = StationID;
    DeliveryItemList[ItemID].ItemScore = ItemScore;
    DeliveryItemList[ItemID].Deadline = Deadline;
    DeliveryItemList[ItemID].CurStatus = CurStatus;
}
DLL_EXPORT void RequestItems(int* Items)
{
    for (int i = 0; i < 6; i++)
    {
        Items[i] = -1;
    }
}

static void listout()
{
    /**
     * Extracts the ItemID, CollectionPtID, ItemScore, and Deadline from the first 100 elements of a DeliveryItemList.
     *
     * @param DeliveryItemList A list of delivery items.
     *
     * @returns Four arrays containing the ItemID, CollectionPtID, ItemScore, and Deadline of the first 100 elements of the DeliveryItemList.
     */
    for(int i=0; i<100; i++)
    {
        a[i]=DeliveryItemList[i].ItemID;
        b[i]=DeliveryItemList[i].CollectionPtID;
        c[i]=DeliveryItemList[i].ItemScore;
        d[i]=DeliveryItemList[i].Deadline;
    }
    for(int i=0; i<100; i++)
    {
        if (i>0 && a[i]<=0) continue;
        printf("ItemID : %d | ",a[i]);
        printf("StnID : %d | ",b[i]);
        printf("Score : %d | ",c[i]);
        printf("Deadline : %d | ",d[i]);
        printf("CarStatus : %i| ", DeliveryItemList[i].CurStatus);
        printf("\n");
    }
    printf("**************************\n\n\n");
}
 
void GameStart()
{
//Add your code here
}

void AILoopStart()
{
//Add your code here
    if (!loadedPoints)
    {
        loadedPoints = true;
        FILE *fp;
        fp  = fopen ("path.txt", "r");
        int i = 0;
        int j = 0;
        if (fp != NULL)
        {
            while (!feof(fp))
            {
                char c = fgetc(fp);
                 if (c == '\n')
                {
                    pointsOfAction[i][j+1] =  '\0';
                    i++;
                    j = 0;
                }
                else
                {
                    pointsOfAction[i][j] = c;
                    j++;
                }
            }
            fclose(fp);
        }
    }
}

 
DLL_EXPORT char* GetTeamName()
{
     return "test3";
}

char info[3000];
DLL_EXPORT char* GetDebugInfo()
{
    sprintf(info, "Duration=%d;CurAction=%d;CurGame=%d;US_Front=%d;US_Left=%d;US_Right=%d;PositionX=%d;PositionY=%d;RotationZ=%d;DeltaAngle=%d;DeltaDist=%d;NavID=%d;NavDist=%d;CtrID=%d;CtrDist=%d;StnID=%d;StnDist=%d;Time=%d;MyState=%d;WheelLeft=%d;WheelRight=%d;LED=%d;",Duration,CurAction,CurGame,US_Front,US_Left,US_Right,PositionX,PositionY,RotationZ,DeltaAngle,DeltaDist,NavID,NavDist,CtrID,CtrDist,StnID,StnDist,Time,MyState,WheelLeft,WheelRight,LED);
    return info;
}
DLL_EXPORT void SetGameID(int GameID)
{
    int i = 0;
    if (CurGame != GameID)
    {
        GameStart();
        for (i = 0; i < 100; i++)
        {
            DeliveryItemList[i].ItemID = i;
            DeliveryItemList[i].CenterID = -1;
            DeliveryItemList[i].CollectionPtID = 0;
            DeliveryItemList[i].Deadline = 0;
            DeliveryItemList[i].ItemScore = 0;
            DeliveryItemList[i].CurStatus = 0;
        }
        for (i = 0; i < 10; i++)
        {
            TaskList[i].TaskID = i;
            TaskList[i].StationID = 0;
            TaskList[i].ActionID = 0;
        }
    }
    CurGame = GameID;
}


DLL_EXPORT void SetDataAI(volatile int* packet, volatile int *AI_IN)
{

    int sum = 0;

    US_Front = AI_IN[0]; packet[0] = US_Front; sum += US_Front;
    US_Left = AI_IN[1]; packet[1] = US_Left; sum += US_Left;
    US_Right = AI_IN[2]; packet[2] = US_Right; sum += US_Right;
    PositionX = AI_IN[3]; packet[3] = PositionX; sum += PositionX;
    PositionY = AI_IN[4]; packet[4] = PositionY; sum += PositionY;
    RotationZ = AI_IN[5]; packet[5] = RotationZ; sum += RotationZ;
    DeltaAngle = AI_IN[6]; packet[6] = DeltaAngle; sum += DeltaAngle;
    DeltaDist = AI_IN[7]; packet[7] = DeltaDist; sum += DeltaDist;
    NavID = AI_IN[8]; packet[8] = NavID; sum += NavID;
    NavDist = AI_IN[9]; packet[9] = NavDist; sum += NavDist;
    CtrID = AI_IN[10]; packet[10] = CtrID; sum += CtrID;
    CtrDist = AI_IN[11]; packet[11] = CtrDist; sum += CtrDist;
    StnID = AI_IN[12]; packet[12] = StnID; sum += StnID;
    StnDist = AI_IN[13]; packet[13] = StnDist; sum += StnDist;
    Time = AI_IN[14]; packet[14] = Time; sum += Time;
    MyState = AI_IN[15]; packet[15] = MyState; sum += MyState;
    packet[16] = sum;

}

static void run()
{
    WheelLeft = 0;
    WheelRight = 0;
    LED = 0;
    P = DeltaDist;
    I = I + DeltaDist;
    D = DeltaDist-previousError;
    PID = (Kp*P) + (Ki*I) + (Kd*D);
    previousError = DeltaDist;
    WheelLeft = highSpeed+PID;
    WheelRight = highSpeed-PID; 
}


DLL_EXPORT void GetCommand(int *AI_OUT)
{
    AI_OUT[0] = WheelLeft;
    AI_OUT[1] = WheelRight;
    AI_OUT[2] = LED;
    AI_OUT[3] = MyState;
}

void swap(int *a, int *b)
{
    int temp;
    temp = *a;
    *a = *b;
    *b = temp;
}

void permutation(int arr[7], int start, int end)
{
    if(start==end)
    {
        CalculateRoute(arr);
        return;
    }
    int i;
    for(i=start;i<=end;i++)
    {
        //swapping numbers
        swap((arr+i), (arr+start));
        //fixing one first digit
        //and calling permutation on
        //the rest of the digits
        permutation(arr, start+1, end);
        swap((arr+i), (arr+start));
    }
}

int CalculatePoints(int packageID, double timeTo)
{
    double overshotTime = (Time/100 + timeTo) - DeliveryItemList[packageID].Deadline;
    switch (DeliveryItemList[packageID].ItemScore)
    {
        case 20:
            return 20;
            break;
        case 30:
            if (overshotTime < 0) { return 30; }
            if (overshotTime > 20) { return 10; }
            return 30-overshotTime;
            break;
        case 60:
            if (overshotTime < 0) { return 60; }
            if (overshotTime > 25) { return 10; }
            return 60-2*overshotTime;
            break;
        case 90:
            if (overshotTime < 0) { return 90; }
            if (overshotTime > 26) { return 10; }
            return 90-3*overshotTime;
            break;
    }
}

struct Route
{
    int calculatedTimeTotal;
    double worth;
    int pathing[7];
} fastestRoute;
void CalculateRoute(int arr[7])
{
    double runningTime = 0;
    int runningPoints = 0;

    //this is a bit of a cheaty hashmap ish solution
    int visited[20] = {0};
    for (int i = 0;i < 7;i ++)
    {
        int distToNext;
        if (i == 0)
        {
            distToNext = distanceTo[0 * 50 + DeliveryItemList[arr[i]].CollectionPtID+2];
        }
        else if (arr[i] == -1)
        {
            distToNext = distanceTo[(DeliveryItemList[arr[i-1]].CollectionPtID+2) * 50 + 0];
        }
        else
        {
            distToNext = distanceTo[(DeliveryItemList[arr[i-1]].CollectionPtID+2) * 50 + DeliveryItemList[arr[i]].CollectionPtID+2];
        }
                
        runningTime += (double)distToNext / averageSpeed;
        //for delivery or pickup

        if (arr[i] == -1) { break; }
        runningTime += 2;

        //have not deposited
        if (visited[DeliveryItemList[arr[i]].CollectionPtID] != 1) 
        {
            //to account for multiple packages being dropped off at the same station
            for (int j = 0;j < 6;j++)
            {
                if (DeliveryItemList[onCar[j]].CollectionPtID == DeliveryItemList[arr[i]].CollectionPtID)
                {
                    runningPoints += CalculatePoints(onCar[j], runningTime);                     
                }
            }
        }
        visited[DeliveryItemList[arr[i]].CollectionPtID] = 1;
    }
    double worth = runningPoints - (2 * runningTime);
    if (worth > fastestRoute.worth)
    {
        printf("new high worth, points at %i, runTime at %f, worth of %f | ", runningPoints, runningTime, worth);
        for (int i = 0;i < 7;i++)
        {
            if (arr[i] == -1)
            {
                printf("C01,");
                break;
            }
            else
            {
                printf("%i,", DeliveryItemList[arr[i]].CollectionPtID);

            }
        }
        printf("\n");
        fastestRoute.calculatedTimeTotal = runningTime;
        fastestRoute.worth = worth;
        memcpy(fastestRoute.pathing, arr, sizeof(fastestRoute.pathing));
    }
}

void BruteForceBestPath()
{
    int bruteForcePts[7];
    memcpy(bruteForcePts, onCar, sizeof(bruteForcePts));
    bruteForcePts[6] = -1;
    fastestRoute.worth = -999999;


    permutation(bruteForcePts, 0, 6);
    printf("\n");
    printf("best stn path is, with worth of %f, ", fastestRoute.worth);
    for (int i = 0;i < 7;i++)
    {
        if (fastestRoute.pathing[i] == -1) {printf("C01"); break; }
        printf("%i, ", DeliveryItemList[fastestRoute.pathing[i]].CollectionPtID);
    }
    printf("\n");
}

void Game0()
{    
    char value[] = {pointsOfAction[nextPointOfAction][1], pointsOfAction[nextPointOfAction][2], '\0'};
    int pointID = atoi(value);

    char angleStr[] = {pointsOfAction[nextPointOfAction][3], pointsOfAction[nextPointOfAction][4], pointsOfAction[nextPointOfAction][5], '\0'};
    int nextAngle = atoi(angleStr);    
    
    //printf("Currently going to next point at line %i\n", nextPointOfAction+1);  
    if(Duration>0)
    {
        Duration--;
    }
    else if (needTurnAfterStation)
    {
        Duration = 10;
        CurAction = 1;
        needTurnAfterStation = 0;
        
    }
    else if (pointsOfAction[nextPointOfAction][0] == 'D')
    {
        char value1[] = {pointsOfAction[nextPointOfAction][1], pointsOfAction[nextPointOfAction][2], '\0'};
        int id = atoi(value1);
        char value2[] = {pointsOfAction[nextPointOfAction][3], pointsOfAction[nextPointOfAction][4], pointsOfAction[nextPointOfAction][5], '\0'};
        int distanceToId = atoi(value2);
        char value3[] = {pointsOfAction[nextPointOfAction][6], pointsOfAction[nextPointOfAction][7], pointsOfAction[nextPointOfAction][8], '\0'};
        int heading = atoi(value3);

        int headDiff = calculateAngleDiff(RotationZ, heading);
        if (NavID == id && (NavDist-distanceToId) <= 2)
        {
            needTurnAfterStation = 1;
            angleToTurn = heading;
            nextPointOfAction++;
            
        }
        else if (NavID == id && (NavDist-distanceToId) <=curvedTurnStartDist && abs(headDiff) < 90+10)
        {
            angleToTurn = heading;
            Duration = 10;
            CurAction = 2;            

            nextPointOfAction++;
            
        }
        else
        {
            CurAction = 4;
        }
    }

    
    else if(pointsOfAction[nextPointOfAction][0] == 'P' && NavID==pointID && NavDist<=6)
    {
        angleToTurn = nextAngle;
        Duration = 10;
        CurAction = 1;
        

        nextPointOfAction++;
        
    }
    else if(pointsOfAction[nextPointOfAction][0] == 'P' && NavID==pointID && NavDist<=curvedTurnStartDist && NavDist>6 && abs(calculateAngleDiff(RotationZ, nextAngle)) < 90+10)
    {
        angleToTurn = nextAngle;
        Duration = 10;
        CurAction = 2;
        
        nextPointOfAction++;
        
    }
    else if(pointsOfAction[nextPointOfAction][0] == 'S' && StnID == pointID && StnDist>=-10 && StnDist<=10)
    {
        angleToTurn = nextAngle;
        
        Duration = 80;
        CurAction =3;
        nextPointOfAction++;


        //remove from onCar, and set status to delivered
        for (int i =0;i < 6;i++)
        {
            if (StnID == DeliveryItemList[onCar[i]].CollectionPtID)
            {                
                onCar[i] = -1;
            }
        }
        for (int i =0;i < 6;i++)
        {
            printf("%i, ", onCar[i]);
        }
        printf("\n");
    }
    else if(pointsOfAction[nextPointOfAction][0] == 'C' && CtrID == pointID && CtrDist>=-10 && CtrDist<=10)
    {
        angleToTurn = nextAngle;
        
        Duration = 80;
        CurAction =3;
        nextPointOfAction++;

        for (int i = 0;i < 6;i++)
        {
            if (onCar[i] == -1)
            {
                onCar[i] = nextParcelID;
                nextParcelID++;
            }
        }
        for (int i =0;i < 6;i++)
        {
            printf("%i, ", onCar[i]);
        }
        printf("\n");
        listout();

        BruteForceBestPath();
        
    }
    else if (pointsOfAction[nextPointOfAction][0] == 'B')
    {
        char backDurStr[] = {pointsOfAction[nextPointOfAction][1], pointsOfAction[nextPointOfAction][2], pointsOfAction[nextPointOfAction][3], '\0'};
        Duration = atoi(backDurStr);
        char newAngle[] = {pointsOfAction[nextPointOfAction][4], pointsOfAction[nextPointOfAction][5], pointsOfAction[nextPointOfAction][6], '\0'};
        angleToTurn = atoi(newAngle);
        CurAction = 5;
        nextPointOfAction++;
        
    }
    else if(true)
    {
        Duration = 0;
        CurAction = 4;
    }
    switch(CurAction)
    {
        case 1:
            LED=0;
            TurnTo(RotationZ, angleToTurn);
            break;
        case 2:
            LED=0;
            CurvedTurnTo(RotationZ, angleToTurn);
            break;
        case 3:
            WheelLeft=0;
            WheelRight=0;
            LED=1;
            if (angleToTurn < RotationZ-30 || angleToTurn > RotationZ+30)
            {
                needTurnAfterStation = 1;
            }
            break;
        case 4:
            run();
            break;
        case 5:
            WheelLeft = -highSpeed;
            WheelRight = -highSpeed;
            
            if (angleToTurn < RotationZ-30 || angleToTurn > RotationZ+30)
            {
                needTurnAfterStation = 1;
            }
        default:
            break;
    }

}


DLL_EXPORT void AILoop()
{
    AILoopStart();
    switch (CurGame)
    {
    case 0:
        Game0();
        break;
    default:
        WheelLeft=0;
        WheelRight=0;
        LED=0;
        MyState=0;
        break;
    }
}


